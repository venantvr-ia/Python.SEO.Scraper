# =============================================================================
# Server Configuration
# =============================================================================
HOST=0.0.0.0
PORT=8001

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# Crawler Configuration
# =============================================================================
CRAWLER_HEADLESS=true
CRAWLER_VERBOSE=false

# Timeouts (milliseconds)
DEFAULT_TIMEOUT=30000
MIN_TIMEOUT=1000
MAX_TIMEOUT=120000

# Scraping options
WORD_COUNT_THRESHOLD=10
EXCLUDE_EXTERNAL_LINKS=true
REMOVE_OVERLAY_ELEMENTS=true
PROCESS_IFRAMES=false

# =============================================================================
# Database
# =============================================================================
DATABASE_PATH=data/scraper.db
MAX_LOGS_RETENTION_DAYS=30

# =============================================================================
# Concurrency & Retry
# =============================================================================
MAX_CONCURRENT_BROWSERS=5
RETRY_MAX_ATTEMPTS=3
RETRY_MIN_WAIT=1
RETRY_MAX_WAIT=10

# =============================================================================
# CORS
# =============================================================================
CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=false

# =============================================================================
# Content Processing Pipeline
# =============================================================================

# Step 1: DOM Pruning - Remove nav, footer, scripts, ads before conversion
ENABLE_DOM_PRUNING=true

# Step 2: Use Trafilatura for main content extraction (more robust than default)
USE_TRAFILATURA=true

# Step 3: Regex cleaning (normalize newlines, remove empty links)
ENABLE_REGEX_CLEANING=true

# Step 4: LLM Sanitizer - AI-powered heading restructuration (expensive!)
ENABLE_LLM_SANITIZER=false

# =============================================================================
# Gemini API (for LLM Sanitizer)
# =============================================================================
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash
GEMINI_TEMPERATURE=0.2
GEMINI_MAX_TOKENS=8192

# Safety threshold: reject LLM output if content loss > this percentage
LLM_MAX_CONTENT_LOSS_PERCENT=10.0

# =============================================================================
# Dashboard
# =============================================================================
DASHBOARD_ENABLED=true

# =============================================================================
# PDF Processing
# =============================================================================
MAX_PDF_SIZE_MB=50
